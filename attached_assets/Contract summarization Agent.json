{
  "created": "1737174678694",
  "updated": "1737174678694",
  "name": "Contract summarization Agent",
  "description": "",
  "tags": [],
  "pieces": [
    "@activepieces/piece-webhook",
    "@activepieces/piece-inputs",
    "@activepieces/piece-zbrain-ai",
    "@activepieces/piece-http"
  ],
  "template": {
    "displayName": "Contract summarization Agent",
    "trigger": {
      "name": "trigger",
      "valid": true,
      "displayName": "Webhook Trigger",
      "type": "PIECE_TRIGGER",
      "settings": {
        "pieceName": "@activepieces/piece-webhook",
        "pieceVersion": "0.0.1",
        "pieceType": "OFFICIAL",
        "packageType": "REGISTRY",
        "input": {},
        "inputUiInfo": {},
        "triggerName": "catch_request"
      },
      "nextAction": {
        "name": "step_1",
        "type": "PIECE",
        "valid": true,
        "settings": {
          "input": {
            "input": "{{trigger.body.file}}"
          },
          "pieceName": "@activepieces/piece-inputs",
          "pieceType": "CUSTOM",
          "actionName": "long_text",
          "inputUiInfo": {},
          "packageType": "ARCHIVE",
          "pieceVersion": "0.0.1",
          "errorHandlingOptions": {
            "retryOnFailure": {
              "value": false
            },
            "continueOnFailure": {
              "value": false
            }
          }
        },
        "nextAction": {
          "name": "step_2",
          "type": "PIECE",
          "valid": true,
          "settings": {
            "input": {
              "input": "{{trigger.body.input}}"
            },
            "pieceName": "@activepieces/piece-inputs",
            "pieceType": "CUSTOM",
            "actionName": "long_text",
            "inputUiInfo": {},
            "packageType": "ARCHIVE",
            "pieceVersion": "0.0.1",
            "errorHandlingOptions": {
              "retryOnFailure": {
                "value": false
              },
              "continueOnFailure": {
                "value": false
              }
            }
          },
          "nextAction": {
            "name": "step_6",
            "type": "PIECE",
            "valid": true,
            "settings": {
              "input": {
                "input": "Summarize all clauses that impact product development and deliverables. Focus on specifications, quality standards, acceptance criteria, and timelines. Include any restrictions on modifications, obligations regarding updates or support, intellectual property rights concerning product features, dependencies on third-party technology, and any liability for non-performance or delays. Also, identify any obligations for beta testing, user feedback, or post-launch product maintenance requirements.\n\n{{trigger.body.instructions}}"
              },
              "pieceName": "@activepieces/piece-inputs",
              "pieceType": "CUSTOM",
              "actionName": "text_input",
              "inputUiInfo": {},
              "packageType": "ARCHIVE",
              "pieceVersion": "0.0.1",
              "errorHandlingOptions": {
                "retryOnFailure": {
                  "value": false
                },
                "continueOnFailure": {
                  "value": false
                }
              }
            },
            "nextAction": {
              "name": "step_4",
              "type": "PIECE",
              "valid": true,
              "settings": {
                "input": {
                  "input": "Summarize the following contract by focusing on its main points, including the purpose, involved parties, key terms, obligations, and any risks or limitations. Consider the user instructions(if provided) to tailor the summary to specific departmental needs. The inputs include the full contract text and a report generated by specific clauses extracted from it. Structure the summary as follows:\nOverview: Provide a brief overview of the contractâ€™s purpose and key stakeholders involved.\nKey Terms and Conditions: List the primary terms, dates, and conditions outlined, emphasizing any clauses that significantly impact compliance or operations.\nResponsibilities and Obligations: Detail the responsibilities of each party, highlighting critical performance requirements or deliverables.\nLimitations and Risks: Identify any limitations, risks, or contingencies noted, with a focus on liability clauses or other risk management elements.\nConclusion: Conclude with any notable clauses that may require further attention or review.\nEnsure that the summary is concise and informative, making it easy for stakeholders to understand the core elements and implications without referring to the full contract."
                },
                "pieceName": "@activepieces/piece-inputs",
                "pieceType": "CUSTOM",
                "actionName": "text_input",
                "inputUiInfo": {},
                "packageType": "ARCHIVE",
                "pieceVersion": "0.0.1",
                "errorHandlingOptions": {
                  "retryOnFailure": {
                    "value": false
                  },
                  "continueOnFailure": {
                    "value": false
                  }
                }
              },
              "nextAction": {
                "name": "step_3",
                "type": "PIECE",
                "valid": true,
                "settings": {
                  "input": {
                    "auth": "{{trigger.body.auth.apiKey}}",
                    "model": "gemini-1.5-pro",
                    "messages": [
                      {
                        "role": "system",
                        "content": "{{step_4}}"
                      },
                      {
                        "role": "user",
                        "content": "Original Contract - {{step_1}} \n\nExtracted clause report - {{step_2}}, User Instruction: {{step_6}}"
                      }
                    ],
                    "maxTokens": "4096",
                    "temperature": "0.7"
                  },
                  "pieceName": "@activepieces/piece-zbrain-ai",
                  "pieceType": "CUSTOM",
                  "actionName": "models",
                  "inputUiInfo": {},
                  "packageType": "ARCHIVE",
                  "pieceVersion": "0.0.7",
                  "errorHandlingOptions": {
                    "retryOnFailure": {
                      "value": false
                    },
                    "continueOnFailure": {
                      "value": false
                    }
                  }
                },
                "nextAction": {
                  "name": "step_5",
                  "type": "PIECE",
                  "valid": true,
                  "settings": {
                    "input": {
                      "input": "{{step_3['content']}}"
                    },
                    "pieceName": "@activepieces/piece-inputs",
                    "pieceType": "CUSTOM",
                    "actionName": "text_input",
                    "inputUiInfo": {},
                    "packageType": "ARCHIVE",
                    "pieceVersion": "0.0.1",
                    "errorHandlingOptions": {
                      "retryOnFailure": {
                        "value": false
                      },
                      "continueOnFailure": {
                        "value": false
                      }
                    }
                  },
                  "nextAction": {
                    "name": "step_7",
                    "type": "PIECE",
                    "valid": true,
                    "settings": {
                      "input": {
                        "url": "https://app.zbrain.ai:3012/api/worker-records/{{trigger.body.workerRecordId}}",
                        "body": {
                          "output": {
                            "markdown": "{{step_5}}"
                          },
                          "tenantId": "{{trigger.body.tenantId}}",
                          "workerId": "{{trigger.body.workerId}}"
                        },
                        "method": "PUT",
                        "headers": {
                          "Authorization": "Bearer {{trigger.body.auth.apiKey}}"
                        },
                        "failsafe": false,
                        "queryParams": {}
                      },
                      "pieceName": "@activepieces/piece-http",
                      "pieceType": "OFFICIAL",
                      "actionName": "send_request",
                      "inputUiInfo": {},
                      "packageType": "REGISTRY",
                      "pieceVersion": "0.3.10",
                      "errorHandlingOptions": {
                        "retryOnFailure": {
                          "value": false
                        },
                        "continueOnFailure": {
                          "value": false
                        }
                      }
                    },
                    "displayName": "Call Agent"
                  },
                  "displayName": "Text"
                },
                "displayName": "Models"
              },
              "displayName": "Prompt"
            },
            "displayName": "Variable: Instruction"
          },
          "displayName": "Contract clause Extraction output"
        },
        "displayName": "Contract Extraction Input"
      }
    },
    "valid": true,
    "schemaVersion": "1"
  },
  "blogUrl": ""
}